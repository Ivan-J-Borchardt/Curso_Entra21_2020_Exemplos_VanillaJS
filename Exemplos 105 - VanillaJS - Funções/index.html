<!--
/********* Web Technology Development Training **************************************************
 * Instructor  : Ivan J. Borchardt - linkedin.com/in/ivan-borchardt/
 *                                 - github.com/Ivan-J-Borchardt
 * Description : Functions
 * Date        : 01.2021 
 ************************************************************************************************/
--->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <Script>

        /*
            --- Anatomia de uma função --- 
            Funções são "Tarefas"/"Ações" executadas assim que são chamadas ou em 
            decorrencia de algum evento.
            Uma função pode receber parâmetros e retornar um resultado. Veja um exemplo 
            completo abaixo. 
        */
        function calcularPesoIdeal(genero, altura) {
            let pesoIdeal = 0;
            if (genero == "F") {
                pesoIdeal = (62.1 * altura) - 44.7; //Peso Ideal feminino
            } else if (genero == "M") {
                pesoIdeal = (72.7 * altura) - 58;   //Peso Ideal Masculino
            }
            return pesoIdeal;
        }

        //Chamada da função: 

        var pesoIdeal = calcularPesoIdeal("M", 1.82);
        console.log("Peso Ideal: " + pesoIdeal);

        /*
            Toda função pode ter: 
            * Uma chamada (chamada para executar a função)
            * Parametros (opcional) - No Exemplo acima, genero e altura são os parâmetros
            * Ação (O processamento no interior da função) - No exemplo, o cálculo do peso ideal... 
            * Retorno (opcional) - (O valor resultante do Processamento) - No exemplo, o pesoIdeal está sendo retornado
        */

        //------------------------------------------------------------------------------------------------------------

        /* Funções Anônimas ou Funções de expressão (Functions expression)
           ----------------
            Como o próprio nome diz, são funções sem nome. 
            O JavaScript é uma linguagem Funcional. Uma das caracteristicas do paradigma funcional 
            é poder atribuir funções a variáveis.   
        */

        var pesoIdeal2 = function (genero, altura) {
            let pesoIdeal = 0;
            if (genero == "F") {
                pesoIdeal = (62.1 * altura) - 44.7; //Peso Ideal feminino
            } else if (genero == "M") {
                pesoIdeal = (72.7 * altura) - 58;   //Peso Ideal Masculino
            }
            return pesoIdeal;
        }
        console.log("Peso Ideal 2: " + pesoIdeal2("F", 1.82));

        //------------------------------------------------------------------------------------------------------------

        /* Funções Seta (Arrow Function) 
           ----------------
        */

        var pesoIdeal3 = (genero, altura) => {
            let pesoIdeal = 0;
            if (genero == "F") {
                pesoIdeal = (62.1 * altura) - 44.7; //Peso Ideal feminino
            } else if (genero == "M") {
                pesoIdeal = (72.7 * altura) - 58;   //Peso Ideal Masculino
            }
            return pesoIdeal;
        }
        console.log("Peso Ideal 3: " + pesoIdeal3("F", 1.82));

        //Outro exemplo: Caso o corpo da function tenha apenas uma linha, podemos omitir as chaves e a palavra return.
        var dobro = b => b * 2;

        console.log("Dobro: " + dobro(3));

        /*-----------------------------------------------------------------------------------
        Passagem de parametros (por valor e por referência)
        -------------------------------------------------------------------------------------*/
        //Passagem por valor: variáveis "primitivas" são passadas por valor
        //teste de passagem de parametro por valor
        var usuario = "XPTO"

        testeParametroValor(usuario)
        console.log(usuario);

        //Passagem de parametros por valor
        function testeParametroValor(user) {

            console.log(user)
            user = "XPTO123"
        }

        //Passagem por referência: objetos são passados por referência
        //teste de passagem de parametro por referencia
        var cadUser = {
            nome: "user1",
            idade: 12
        }

        testeParametroReferencia(cadUser)
        console.log(cadUser);

        //teste de passagem por valor (apenas a variavel nome (var primitiva) está sendo passada...)
        testeParametroReferencia2(cadUser.nome)
        console.log(cadUser)

        //Passagem de parametros por referencia
        function testeParametroReferencia(cadUser2) {
            console.log(cadUser2)
            cadUser2.nome = "User123"
        }

        //Passagem de paramentros por valor (está recebendo apenas a variavel nome (var primitiva))
        function testeParametroReferencia2(nome) {
            console.log(nome)
            nome = "User567"
        }

        /*------------------------------------------------------------------------------------------
            Função auto-invocada
        ------------------------------------------------------------------------------------------*/
        (function(){console.log("Função auto-invocada")}())


        //------------------------------------------------------------------------------------------------------------
        /*
            Alguns assuntos que ainda abordaremos num futuro próximo:

               Funções Construtoras
               Funções callback
               Funções Geradoras
               Função Factory
               Recursividade
               Diferenças entre Funções Arrow e Anônimas no uso em OO
               Promisses
               https://devpleno.com/factory-function/
               https://blog.matheuscastiglioni.com.br/definindo-funcoes-em-javascript/
               https://medium.com/@viniazvd/classes-vs-fun%C3%A7%C3%B5es-construtoras-vs-fun%C3%A7%C3%B5es-f%C3%A1brica-b92a6afa70a4
               ...
        */


    </Script>
</body>

</html>